<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>snode.c: Simple NODE in C++ (SNode.C)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">snode.c
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Simple NODE in C++ (SNode.C) </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md1">License</a></li>
<li class="level1"><a href="#autotoc_md2">Copyright</a></li>
<li class="level1"><a href="#autotoc_md3">Quick Starting Guide</a><ul><li class="level2"><a href="#autotoc_md4">An \&quot;Echo\&quot; Application</a><ul><li class="level3"><a href="#autotoc_md5">SocketServer and SocketClient</a></li>
<li class="level3"><a href="#autotoc_md6">SocketContextFactories</a><ul><li class="level4"><a href="#autotoc_md7">Echo-Server ContextFactory</a></li>
<li class="level4"><a href="#autotoc_md8">Echo-Client ContextFactory</a></li>
</ul>
</li>
<li class="level3"><a href="#autotoc_md9">SocketContexts</a><ul><li class="level4"><a href="#autotoc_md10">Echo-Server Context</a></li>
<li class="level4"><a href="#autotoc_md11">Echo-Client Context</a></li>
</ul>
</li>
<li class="level3"><a href="#autotoc_md12">Main Applications for Server and Client</a><ul><li class="level4"><a href="#autotoc_md13">Echo-Server Main Application</a></li>
<li class="level4"><a href="#autotoc_md14">Echo-Client Main Application</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md15">Summary</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md16">Installation</a><ul><li class="level2"><a href="#autotoc_md17">Minimum required Compiler Versions</a></li>
<li class="level2"><a href="#autotoc_md18">Supported Systems and Hardware</a></li>
<li class="level2"><a href="#autotoc_md19">Tools</a><ul><li class="level3"><a href="#autotoc_md20">Required</a></li>
<li class="level3"><a href="#autotoc_md21">Optional</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md22">Libraries</a><ul><li class="level3"><a href="#autotoc_md23">Required</a></li>
<li class="level3"><a href="#autotoc_md24">Optional</a></li>
<li class="level3"><a href="#autotoc_md25">In-Framework</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md26">Installation on Debian Style Systems (x86-64, Arm)</a><ul><li class="level3"><a href="#autotoc_md27">Dependencies</a></li>
<li class="level3"><a href="#autotoc_md28">SNode.C</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md29">Design Decisions and Features</a><ul><li class="level2"><a href="#autotoc_md30">Network Layer</a></li>
<li class="level2"><a href="#autotoc_md31">Transport Layer</a></li>
<li class="level2"><a href="#autotoc_md32">Application Layer</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md33">Example Applications</a><ul><li class="level2"><a href="#autotoc_md34">HTTP/S Web-Server for Static HTML-Pages</a></li>
<li class="level2"><a href="#autotoc_md35">Receive Data via HTTP-Post Request</a></li>
<li class="level2"><a href="#autotoc_md36">Extract Server and Client Information (host name, IP, port, SSL/TLS information)</a></li>
<li class="level2"><a href="#autotoc_md37">Using Regular Expressions in Routes</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md__2home_2voc_2projects_2snodec_2snode_8c_2_r_e_a_d_m_e__dox"></a> <a href="https://volkerchristian.github.io/snode.c-doc/html/index.html">SNode.C</a> is a very simple to use lightweight highly extendable event driven layer-based framework for network applications in the spirit of node.js written entirely in C++.</p>
<p>The development of the framework started during the summer semester 2020 in the context of the course <b>Network and Distributed Systems</b> of the masters program <a href="https://www.fh-ooe.at/en/hagenberg-campus/studiengaenge/master/interactive-media/"><b>Interactive Media</b></a> at the departement <a href="https://www.fh-ooe.at/en/hagenberg-campus/"><b>Informatics, Communications and Media</b></a> at the <a href="https://www.fh-ooe.at/en/"><b>University of Applied Sciences Upper Austria, Campus Hagenberg</b></a> to give students an insight into the fundamental techniques of network and web frameworks.</p>
<p>Main focus (but not only) of the framework is "Machine to Machine" (M2M) communication and here especially the field of "Internet of Things" (IoT).</p>
<h1><a class="anchor" id="autotoc_md1"></a>
License</h1>
<p>SNode.C is released under the <b>GNU Lesser General Public License, Version 3</b> (<a href="https://www.gnu.org/licenses/lgpl-3.0.de.html">https://www.gnu.org/licenses/lgpl-3.0.de.html</a>)</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Copyright</h1>
<p>Volker Christian (<a href="#" onclick="location.href='mai'+'lto:'+'me@'+'vc'+'hri'+'st'+'.at'; return false;">me@vchrist.at</a> or <a href="#" onclick="location.href='mai'+'lto:'+'vol'+'ke'+'r.c'+'hr'+'ist'+'ia'+'n@f'+'h-'+'hag'+'en'+'ber'+'g.'+'at'; return false;">Volker.Christian@fh-hagenberg.at</a>)</p>
<p>Some components are also copyrighted by Students</p>
<ul>
<li>Json Middleware<ul>
<li>Marlene Mayr</li>
<li>Anna Moser</li>
<li>Matteo Prock</li>
<li>Eric Thalhammer</li>
</ul>
</li>
<li>Regular-Expression Route-Mapping<ul>
<li>Joelle Helgert</li>
<li>Julia Gruber</li>
<li>Patrick Brandst√§tter</li>
<li>Fabian Mohr</li>
</ul>
</li>
<li>MariaDB Database Support<ul>
<li>Daniel Flockert</li>
</ul>
</li>
<li>OAuth2 Demo System<ul>
<li>Daniel Flockert</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Quick Starting Guide</h1>
<p>Basically the architecture of every server and client application is the same and consists of three components.</p>
<ul>
<li>Server respective client instance</li>
<li>SocketContextFactory</li>
<li>SocketContext</li>
</ul>
<p>Let\'s have a look at how these three components are related to each other by implementing a simple networking application.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
An \"Echo\" Application</h2>
<p>Imagine we want to create a very basic TCP (<b>stream</b>)/IPv4 (<b>in</b>) server/client pair which sends some plain text data unencrypted (<b>legacy</b>) to each other in a ping-pong way.</p>
<p>The client shall start sending text data to the server and the server shall reflect that data back to the client. The client receives this reflected data and sends it back again to the server. This data ping-pong shall last infinitely long.</p>
<h3><a class="anchor" id="autotoc_md5"></a>
SocketServer and SocketClient</h3>
<p>For the server role we just need to create an object of type</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classnet_1_1in_1_1stream_1_1_socket_server.html">net::in::stream::legacy::SocketServer&lt;SocketContextFactory&gt;</a></div>
<div class="ttc" id="aclassnet_1_1in_1_1stream_1_1_socket_server_html"><div class="ttname"><a href="classnet_1_1in_1_1stream_1_1_socket_server.html">net::in::stream::SocketServer</a></div><div class="ttdef"><b>Definition</b> <a href="net_2in_2stream_2_socket_server_8h_source.html#l00038">SocketServer.h:40</a></div></div>
</div><!-- fragment --><p>called a <em>server instance</em> and for the client role an object of type</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classnet_1_1in_1_1stream_1_1_socket_client.html">net::in::stream::legacy::SocketClient&lt;SocketContextFactory&gt;</a></div>
<div class="ttc" id="aclassnet_1_1in_1_1stream_1_1_socket_client_html"><div class="ttname"><a href="classnet_1_1in_1_1stream_1_1_socket_client.html">net::in::stream::SocketClient</a></div><div class="ttdef"><b>Definition</b> <a href="net_2in_2stream_2_socket_client_8h_source.html#l00038">SocketClient.h:40</a></div></div>
</div><!-- fragment --><p>called <em>client instance</em> is needed.</p>
<p>Both <em>instance-classes</em> have a <em>default constructor</em> and a <em>constructor expecting an instance name</em> as argument.</p>
<ul>
<li>When the default constructor is used to create the instance object this instance is called an <em>anonymous instance</em>.</li>
<li>in contrast to a <em>named instance</em> if the constructors expecting a <code>std::string</code> is used for instance creation.</li>
<li>For named instances <em>command line arguments and configuration file entries are created automatically</em> to configure the instance.</li>
</ul>
<p>A class <code>SocketContextFactory</code> is used for both instances as template argument. Such a <code>SocketContextFactory</code> is used internally by the <code>SocketServer</code> and the <code>SocketClient</code> for creating a concrete <code>SocketContext</code> object for each established connection. This <code>SocketContext</code> represents a concrete application protocol.</p>
<p>Thus, for our echo application we need to implement the application logic (application protocol) for server and client in classes derived from <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a></code>, which is the base class of all connection-oriented (stream) application protocols, and factories derived from <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_context_factory.html">core::socket::stream::SocketContextFactory</a></code>.</p>
<h3><a class="anchor" id="autotoc_md6"></a>
SocketContextFactories</h3>
<p>Let\'s focus on the SocketContextFactories for our server and client first.</p>
<p>All what needs to be done is to implement a pure virtual method <code>create()</code>witch expects a pointer to a <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_connection.html">core::socket::stream::SocketConnection</a></code> as argument and returns a concrete application SocketContext.</p>
<p>The <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_connection.html">core::socket::stream::SocketConnection</a></code> object involved is managed internally by SNode.C and represents the <em>physical connection</em> between the server and a client. This <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_connection.html">core::socket::stream::SocketConnection</a></code> is used internally by the <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a></code> to handle the physical data transfer between server and client.</p>
<h4><a class="anchor" id="autotoc_md7"></a>
Echo-Server ContextFactory</h4>
<p>The <code>create()</code> method of our <code>EchoServerContextFactory</code> returns the <code>EchoServerContext</code> whose implementation is presented in the SocketContexts section below.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>EchoServerContextFactory : <span class="keyword">public</span> <a class="code hl_class" href="classcore_1_1socket_1_1stream_1_1_socket_context_factory.html">core::socket::stream::SocketContextFactory</a> {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a>* <a class="code hl_function" href="classcore_1_1socket_1_1stream_1_1_socket_context_factory.html#a949c1b855fb495f0ab80d179e6a8c0b9">create</a>(<a class="code hl_class" href="classcore_1_1socket_1_1stream_1_1_socket_connection.html">core::socket::stream::SocketConnection</a>* socketConnection)<span class="keyword"> override </span>{</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> EchoServerContext(socketConnection);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclasscore_1_1socket_1_1stream_1_1_socket_connection_html"><div class="ttname"><a href="classcore_1_1socket_1_1stream_1_1_socket_connection.html">core::socket::stream::SocketConnection</a></div><div class="ttdef"><b>Definition</b> <a href="_socket_connection_8h_source.html#l00048">SocketConnection.h:48</a></div></div>
<div class="ttc" id="aclasscore_1_1socket_1_1stream_1_1_socket_context_factory_html"><div class="ttname"><a href="classcore_1_1socket_1_1stream_1_1_socket_context_factory.html">core::socket::stream::SocketContextFactory</a></div><div class="ttdef"><b>Definition</b> <a href="core_2socket_2stream_2_socket_context_factory_8h_source.html#l00033">SocketContextFactory.h:33</a></div></div>
<div class="ttc" id="aclasscore_1_1socket_1_1stream_1_1_socket_context_factory_html_a949c1b855fb495f0ab80d179e6a8c0b9"><div class="ttname"><a href="classcore_1_1socket_1_1stream_1_1_socket_context_factory.html#a949c1b855fb495f0ab80d179e6a8c0b9">core::socket::stream::SocketContextFactory::create</a></div><div class="ttdeci">virtual core::socket::stream::SocketContext * create(core::socket::stream::SocketConnection *socketConnection)=0</div></div>
<div class="ttc" id="aclasscore_1_1socket_1_1stream_1_1_socket_context_html"><div class="ttname"><a href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a></div><div class="ttdef"><b>Definition</b> <a href="core_2socket_2stream_2_socket_context_8h_source.html#l00040">SocketContext.h:40</a></div></div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md8"></a>
Echo-Client ContextFactory</h4>
<p>The <code>create()</code> method of our <code>EchoClientContextFactory</code> returns the <code>EchoClientContext</code> whose implementation is also presented in the SocketContexts section below.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>EchoClientContextFactory : <span class="keyword">public</span> <a class="code hl_class" href="classcore_1_1socket_1_1stream_1_1_socket_context_factory.html">core::socket::stream::SocketContextFactory</a> {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a>* <a class="code hl_function" href="classcore_1_1socket_1_1stream_1_1_socket_context_factory.html#a949c1b855fb495f0ab80d179e6a8c0b9">create</a>(<a class="code hl_class" href="classcore_1_1socket_1_1stream_1_1_socket_connection.html">core::socket::stream::SocketConnection</a>* socketConnection)<span class="keyword"> override </span>{</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> EchoClientContext(socketConnection);</div>
<div class="line">    }  </div>
<div class="line">};</div>
</div><!-- fragment --><p>That\'s easy, isn\'t it?</p>
<h3><a class="anchor" id="autotoc_md9"></a>
SocketContexts</h3>
<p>It is also not difficult to implement the SocketContext classes for the server and the client.</p>
<ul>
<li>Remember, the required functionality: The server shall reflect the received data back to the client!</li>
<li>And also remember we need to derive from the base class <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a></code>.</li>
<li>And at last remember that the class <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a></code> needs the <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_connection.html">core::socket::stream::SocketConnection</a></code> to handle the physical data exchange. Thus, we have to pass the pointer to the SocketConnection to the constructor of the base <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a></code> class.</li>
</ul>
<p>The base class <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a></code> provides <em>some virtual methods</em> which can be overridden in an concrete SocketContext class. These methods will be <em>called by the framework automatically</em>.</p>
<h4><a class="anchor" id="autotoc_md10"></a>
Echo-Server Context</h4>
<p>For our echo server application it would be sufficient to override the <code>onReceivedFromPeer()</code> method only. This method is called by the framework in case some data have already been received from the client. Nevertheless, for more information of what is going on in behind the methods <code>onConnected</code> and <code>onDisconnected</code> are overridden also.</p>
<p>In the <code>onReceivedFromPeer()</code> method we can fetch data already received by SNode.C by using the <code>readFromPeer()</code> method provided by the <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a></code> class.</p>
<p>Sending data to the client is done using the method <code>sendToPeer()</code> which is also provided by the <code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a></code> class.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>EchoServerContext : <span class="keyword">public</span> <a class="code hl_class" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> EchoServerContext(<a class="code hl_class" href="classcore_1_1socket_1_1stream_1_1_socket_connection.html">core::socket::stream::SocketConnection</a>* socketConnection) </div>
<div class="line">        : <a class="code hl_namespace" href="namespacecore.html">core</a>::socket::stream::SocketContext(socketConnection) {</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>: </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classcore_1_1socket_1_1stream_1_1_socket_context.html#a716a54b882173251b584439499ca0446">onConnected</a>()<span class="keyword"> override </span>{ <span class="comment">// Called in case a connection has been established successfully.</span></div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Echo connected to &quot;</span> &lt;&lt; socketConnection-&gt;getRemoteAddress().toString() &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classcore_1_1socket_1_1stream_1_1_socket_context.html#ab9c932c5c1b706ffb84d97634514d20e">onDisconnected</a>()<span class="keyword"> override </span>{ <span class="comment">// Called in case the connection has been closed.</span></div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Echo disconnected from &quot;</span> &lt;&lt; socketConnection-&gt;getRemoteAddress().toString() &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    std::size_t <a class="code hl_function" href="classcore_1_1socket_1_1_socket_context.html#a34c520f17818f029395d2d2b4babc882">onReceivedFromPeer</a>()<span class="keyword"> override </span>{ <span class="comment">// Called in case data have already been received by the framework</span></div>
<div class="line">                                                <span class="comment">// and thus are ready for preccessing.</span></div>
<div class="line">        <span class="keywordtype">char</span> junk[4096];</div>
<div class="line"> </div>
<div class="line">        std::size_t junkLen = <a class="code hl_function" href="classcore_1_1socket_1_1stream_1_1_socket_context.html#a633b74ee5bf62e5041da75f4bab58bb1">readFromPeer</a>(junk, 4096); <span class="comment">// Fetch data.</span></div>
<div class="line">                                                        <span class="comment">// In case there are less than 4096 bytes available return at </span></div>
<div class="line">                                                        <span class="comment">// least that amount of data.</span></div>
<div class="line">                                                        <span class="comment">// In case more than 4096 bytes are available </span></div>
<div class="line">                                                        <span class="comment">// onReceivedFromPeer will be called again.</span></div>
<div class="line">                                                        <span class="comment">// No error can occure here.</span></div>
<div class="line">        <span class="keywordflow">if</span> (junkLen &gt; 0) {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Data to reflect: &quot;</span> &lt;&lt; std::string(junk, junklen);</div>
<div class="line">            <a class="code hl_function" href="classcore_1_1socket_1_1stream_1_1_socket_context.html#a7ab4e5580dbb64d509ffe2573205c600">sendToPeer</a>(junk, junklen); <span class="comment">// Reflect the received data back to the client.</span></div>
<div class="line">                                       <span class="comment">// Out of memory is the only error which can occure here.</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> junkLen; <span class="comment">// Return the amount of data processed to the framework.</span></div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclasscore_1_1socket_1_1_socket_context_html_a34c520f17818f029395d2d2b4babc882"><div class="ttname"><a href="classcore_1_1socket_1_1_socket_context.html#a34c520f17818f029395d2d2b4babc882">core::socket::SocketContext::onReceivedFromPeer</a></div><div class="ttdeci">virtual std::size_t onReceivedFromPeer()=0</div></div>
<div class="ttc" id="aclasscore_1_1socket_1_1stream_1_1_socket_context_html_a633b74ee5bf62e5041da75f4bab58bb1"><div class="ttname"><a href="classcore_1_1socket_1_1stream_1_1_socket_context.html#a633b74ee5bf62e5041da75f4bab58bb1">core::socket::stream::SocketContext::readFromPeer</a></div><div class="ttdeci">std::size_t readFromPeer(char *junk, std::size_t junklen) const final</div><div class="ttdef"><b>Definition</b> <a href="core_2socket_2stream_2_socket_context_8cpp_source.html#l00045">SocketContext.cpp:45</a></div></div>
<div class="ttc" id="aclasscore_1_1socket_1_1stream_1_1_socket_context_html_a716a54b882173251b584439499ca0446"><div class="ttname"><a href="classcore_1_1socket_1_1stream_1_1_socket_context.html#a716a54b882173251b584439499ca0446">core::socket::stream::SocketContext::onConnected</a></div><div class="ttdeci">virtual void onConnected()=0</div></div>
<div class="ttc" id="aclasscore_1_1socket_1_1stream_1_1_socket_context_html_a7ab4e5580dbb64d509ffe2573205c600"><div class="ttname"><a href="classcore_1_1socket_1_1stream_1_1_socket_context.html#a7ab4e5580dbb64d509ffe2573205c600">core::socket::stream::SocketContext::sendToPeer</a></div><div class="ttdeci">void sendToPeer(const char *junk, std::size_t junkLen) const final</div><div class="ttdef"><b>Definition</b> <a href="core_2socket_2stream_2_socket_context_8cpp_source.html#l00041">SocketContext.cpp:41</a></div></div>
<div class="ttc" id="aclasscore_1_1socket_1_1stream_1_1_socket_context_html_ab9c932c5c1b706ffb84d97634514d20e"><div class="ttname"><a href="classcore_1_1socket_1_1stream_1_1_socket_context.html#ab9c932c5c1b706ffb84d97634514d20e">core::socket::stream::SocketContext::onDisconnected</a></div><div class="ttdeci">virtual void onDisconnected()=0</div></div>
<div class="ttc" id="anamespacecore_html"><div class="ttname"><a href="namespacecore.html">core</a></div><div class="ttdef"><b>Definition</b> <a href="_descriptor_8cpp_source.html#l00027">Descriptor.cpp:27</a></div></div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md11"></a>
Echo-Client Context</h4>
<p>The echo client SocketContext in contrast to the server SocketContext, <em>needs</em> an overridden <code>onConnected</code> method, to initiate the ping-pong data exchange.</p>
<p>Like in the <code>EchoServerContext</code> <code>readFromPeer()</code> and <code>sendToPeer()</code> is used in the <code>onReceivedFromPeer()</code> method. In addition <code>sendToPeer()</code> is also used in the <code>onConnected()</code> method to initiate the ping-pong data exchange.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>EchoClientContext : <span class="keyword">public</span> <a class="code hl_class" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> EchoClientContext(<a class="code hl_class" href="classcore_1_1socket_1_1stream_1_1_socket_connection.html">core::socket::stream::SocketConnection</a>* socketConnection) </div>
<div class="line">        : <a class="code hl_namespace" href="namespacecore.html">core</a>::socket::stream::SocketContext(socketConnection) {</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classcore_1_1socket_1_1stream_1_1_socket_context.html#a716a54b882173251b584439499ca0446">onConnected</a>()<span class="keyword"> override </span>{ <span class="comment">// Called in case a connection has been established successfully.</span></div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Echo connected to &quot;</span> &lt;&lt; socketConnection-&gt;getRemoteAddress().toString() &lt;&lt; std::endl;</div>
<div class="line">        </div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Initiating data exchange&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        <a class="code hl_function" href="classcore_1_1socket_1_1stream_1_1_socket_context.html#a7ab4e5580dbb64d509ffe2573205c600">sendToPeer</a>(<span class="stringliteral">&quot;Hello peer! It&#39;s nice talking to you!!!&quot;</span>); <span class="comment">// Initiate the ping-pong data exchange.</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classcore_1_1socket_1_1stream_1_1_socket_context.html#ab9c932c5c1b706ffb84d97634514d20e">onDisconnected</a>()<span class="keyword"> override </span>{ <span class="comment">// Called in case the connection has been closed.</span></div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Echo disconnected from &quot;</span> &lt;&lt; socketConnection-&gt;getRemoteAddress().toString() &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    std::size_t <a class="code hl_function" href="classcore_1_1socket_1_1_socket_context.html#a34c520f17818f029395d2d2b4babc882">onReceivedFromPeer</a>()<span class="keyword"> override </span>{ <span class="comment">// Called in case data have already been received by the framework</span></div>
<div class="line">                                                <span class="comment">// and thus are ready for preccessing.</span></div>
<div class="line">        <span class="keywordtype">char</span> junk[4096];</div>
<div class="line"> </div>
<div class="line">        std::size_t junkLen = <a class="code hl_function" href="classcore_1_1socket_1_1stream_1_1_socket_context.html#a633b74ee5bf62e5041da75f4bab58bb1">readFromPeer</a>(junk, 4096); <span class="comment">// Fetch data.</span></div>
<div class="line">                                                        <span class="comment">// In case there are less than 4096 bytes available return at </span></div>
<div class="line">                                                        <span class="comment">// least that amount of data.</span></div>
<div class="line">                                                        <span class="comment">// In case more than 4096 bytes are available </span></div>
<div class="line">                                                        <span class="comment">// onReceivedFromPeer will be called again.</span></div>
<div class="line">                                                        <span class="comment">// No error can occure here.</span></div>
<div class="line">        <span class="keywordflow">if</span> (junkLen &gt; 0) {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Data to reflect: &quot;</span> &lt;&lt; std::string(junk, junklen);</div>
<div class="line">            <a class="code hl_function" href="classcore_1_1socket_1_1stream_1_1_socket_context.html#a7ab4e5580dbb64d509ffe2573205c600">sendToPeer</a>(junk, junklen); <span class="comment">// Reflect the received data back to the server.</span></div>
<div class="line">                                       <span class="comment">// Out of memory is the only error which can occure here.</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> junkLen; <span class="comment">// Return the amount of data processed to the framework.</span></div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12"></a>
Main Applications for Server and Client</h3>
<p>Now we can put all together and implement the server and client main applications. Here <em>anonymous instances</em> are used, thus we will not get command line arguments automatically.</p>
<p>Note the use of our previously implemented <code>EchoServerContextFactory</code> and <code>EchoClientContextFactory</code> as template arguments.</p>
<p>At the very beginning SNode.C must be <em>initialized</em> by calling <code>core::SNodeC::init(argc, argv)</code>. And at the end of the main applications the <em>event-loop</em> of SNode.C is started by calling <code><a class="el" href="classcore_1_1_s_node_c.html#ac3d0dcb6c216ae72d9bbb77fe080e461">core::SNodeC::start()</a></code>.</p>
<h4><a class="anchor" id="autotoc_md13"></a>
Echo-Server Main Application</h4>
<p>The server instance <code>echoServer</code> must be <em>activated</em> by calling <code>echoServer.listen()</code>.</p>
<p>SNode.C provides a view overloaded <code>listen()</code> methods whose arguments vary depending on the network layer (IPv4, IPv6, RFCOM, L2CAP, or unix domain sockets) used. Though, every <code>listen()</code> method expects a lambda function as last argument. Here we use IPv4 and the <code>listen()</code> method which expects a port number as argument.</p>
<p>If we would have created a named server instance than a special <code>listen()</code> method which only expects the lambda function as argument can be used. In that case the configuration of this named instance would be done using command line arguments and/or a configuration file.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div>
<div class="line">    <a class="code hl_function" href="classcore_1_1_s_node_c.html#a2c8b01c5fc6ecc3036cb48a76f76f3b5">core::SNodeC::init</a>(argc, argv); <span class="comment">// Initialize the framework.</span></div>
<div class="line">                                    <span class="comment">// Configure logging, create command line arguments, daemonize if requested.</span></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">using </span>EchoServer = <a class="code hl_class" href="classnet_1_1in_1_1stream_1_1_socket_server.html">net::in::stream::legacy::SocketServer&lt;EchoServerContextFactory&gt;</a>; <span class="comment">// Simplify data type</span></div>
<div class="line">                                                                                        <span class="comment">// Note the use of our implemented</span></div>
<div class="line">                                                                                        <span class="comment">// EchoServerContextFactory as</span></div>
<div class="line">                                                                                        <span class="comment">// template argument</span></div>
<div class="line">    <span class="keyword">using </span>SocketAddress = EchoServer::SocketAddress; <span class="comment">// Simplify data type</span></div>
<div class="line">    </div>
<div class="line">    EchoServer echoServer; <span class="comment">// Create server instance</span></div>
<div class="line">    </div>
<div class="line">    echoServer.<a class="code hl_function" href="classnet_1_1in_1_1stream_1_1_socket_server.html#aa3cc212accfc0a77b0954a21155f19b3">listen</a>(8001, [](<span class="keyword">const</span> SocketAddress&amp; socketAddress, <span class="keywordtype">int</span> err) -&gt; <span class="keywordtype">void</span> { <span class="comment">// Listen on port 8001 on all interfaces</span></div>
<div class="line">        <span class="keywordflow">if</span> (err == 0){</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Success: Echo server listening on &quot;</span> &lt;&lt; socketAddress.toString() &lt;&lt; std::endl;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Error: Echo server listening on &quot;</span> &lt;&lt; socketAddress.toString() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; perror(<span class="stringliteral">&quot;&quot;</span>) &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="classcore_1_1_s_node_c.html#ac3d0dcb6c216ae72d9bbb77fe080e461">core::SNodeC::start</a>(); <span class="comment">// Start the event loop.</span></div>
<div class="line">}</div>
<div class="ttc" id="aclasscore_1_1_s_node_c_html_a2c8b01c5fc6ecc3036cb48a76f76f3b5"><div class="ttname"><a href="classcore_1_1_s_node_c.html#a2c8b01c5fc6ecc3036cb48a76f76f3b5">core::SNodeC::init</a></div><div class="ttdeci">static void init(int argc, char *argv[])</div><div class="ttdef"><b>Definition</b> <a href="_s_node_c_8cpp_source.html#l00031">SNodeC.cpp:31</a></div></div>
<div class="ttc" id="aclasscore_1_1_s_node_c_html_ac3d0dcb6c216ae72d9bbb77fe080e461"><div class="ttname"><a href="classcore_1_1_s_node_c.html#ac3d0dcb6c216ae72d9bbb77fe080e461">core::SNodeC::start</a></div><div class="ttdeci">static int start(const utils::Timeval &amp;timeOut={LONG_MAX, 0})</div><div class="ttdef"><b>Definition</b> <a href="_s_node_c_8cpp_source.html#l00037">SNodeC.cpp:37</a></div></div>
<div class="ttc" id="aclassnet_1_1in_1_1stream_1_1_socket_server_html_aa3cc212accfc0a77b0954a21155f19b3"><div class="ttname"><a href="classnet_1_1in_1_1stream_1_1_socket_server.html#aa3cc212accfc0a77b0954a21155f19b3">net::in::stream::SocketServer::listen</a></div><div class="ttdeci">void listen(uint16_t port, const std::function&lt; void(const core::ProgressLog &amp;)&gt; &amp;onError) const</div><div class="ttdef"><b>Definition</b> <a href="net_2in_2stream_2_socket_server_8h_source.html#l00050">SocketServer.h:50</a></div></div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md14"></a>
Echo-Client Main Application</h4>
<p>The client instance <code>echoClient</code> must <em>connect</em> to the server by calling <code>echoClient.connect()</code>.</p>
<p>Equivalent to the server instance a client instance provides a view overloaded <code>connect()</code> methods whose arguments also vary depending on the network layer used. Here it is assumed that we talk to an IPv4 server which runs on the same machine (localhost) as the client. Thus we pass the hostname "localhost" and port number 8001 to the <code>connect()</code> method.</p>
<p>If we would have created a named client instance than a special <code>connect()</code> method which only expects the lambda function can be used. In that case the configuration of this named instance would be done using command line arguments and/or a configuration file.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div>
<div class="line">    <a class="code hl_function" href="classcore_1_1_s_node_c.html#a2c8b01c5fc6ecc3036cb48a76f76f3b5">core::SNodeC::init</a>(argc, argv); <span class="comment">// Initialize the framework.</span></div>
<div class="line">                                    <span class="comment">// Configure logging, create command line arguments, daemonize if requested.</span></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">using </span>EchoClient = <a class="code hl_class" href="classnet_1_1in_1_1stream_1_1_socket_client.html">net::in::stream::legacy::SocketClient&lt;EchoClientContextFactory&gt;</a>; <span class="comment">// Simplify data type</span></div>
<div class="line">                                                                                         <span class="comment">// Note the use of our implemented</span></div>
<div class="line">                                                                                         <span class="comment">// EchoClientContextFactory as</span></div>
<div class="line">                                                                                         <span class="comment">// template argument</span></div>
<div class="line">    <span class="keyword">using </span>SocketAddress = EchoClient::SocketAddress; <span class="comment">// Simplify data type</span></div>
<div class="line">    </div>
<div class="line">    EchoClient echoClient; <span class="comment">// Create client instance</span></div>
<div class="line">    </div>
<div class="line">    echoClient.<a class="code hl_function" href="classnet_1_1in_1_1stream_1_1_socket_client.html#a6eebbc4d5486106e6afd423dad199f0c">connect</a>(<span class="stringliteral">&quot;localhost&quot;</span>, 8001, [](<span class="keyword">const</span> SocketAddress&amp; socketAddress, <span class="keywordtype">int</span> err) -&gt; <span class="keywordtype">void</span> { <span class="comment">// Connect to server</span></div>
<div class="line">        <span class="keywordflow">if</span> (err == 0){</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Success: Echo connecting to &quot;</span> &lt;&lt; socketAddress.toString() &lt;&lt; std::endl;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Error: Echo client connecting to &quot;</span> &lt;&lt; socketAddress.toString() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; perror(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="classcore_1_1_s_node_c.html#ac3d0dcb6c216ae72d9bbb77fe080e461">core::SNodeC::start</a>(); <span class="comment">// Start the event loop.</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassnet_1_1in_1_1stream_1_1_socket_client_html_a6eebbc4d5486106e6afd423dad199f0c"><div class="ttname"><a href="classnet_1_1in_1_1stream_1_1_socket_client.html#a6eebbc4d5486106e6afd423dad199f0c">net::in::stream::SocketClient::connect</a></div><div class="ttdeci">void connect(const std::string &amp;ipOrHostname, uint16_t port, const std::function&lt; void(const core::ProgressLog &amp;)&gt; &amp;onError)</div><div class="ttdef"><b>Definition</b> <a href="net_2in_2stream_2_socket_client_8h_source.html#l00050">SocketClient.h:50</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md15"></a>
Summary</h2>
<p>The echo application shows the typical architecture of servers and clients using SNode.C.</p>
<ul>
<li><p class="startli">The user needs to provide the application protocol layer by implementing the classe</p><ul>
<li>SocketContextFactory and</li>
<li>SocketContext</li>
</ul>
<p class="startli">which need be be derived from the base classes</p><ul>
<li><code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_context_factory.html">core::socket::stream::SocketContextFactory</a></code></li>
<li><code><a class="el" href="classcore_1_1socket_1_1stream_1_1_socket_context.html">core::socket::stream::SocketContext</a></code></li>
</ul>
</li>
<li>The framework provides<ul>
<li>ready to use server and client template classes for each network/transport layer combination.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md16"></a>
Installation</h1>
<p>SNode.C depends on some external libraries. Some of these libraries are directly included in the framework.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
Minimum required Compiler Versions</h2>
<p>The only version-critical dependencies are the C++ compilers.</p>
<p>Either <em>GCC</em> or <em>clang</em> can be used but they need to be of a relatively up to date version because SNode.C uses some new C++20 features internally.</p>
<ul>
<li>GCC 10.2</li>
<li>Clang 11.0</li>
</ul>
<h2><a class="anchor" id="autotoc_md18"></a>
Supported Systems and Hardware</h2>
<p>The main development of SNode.C takes place on an Debian style linux system. Though, it should compile cleanly on every linux system provided that all required tools and libraries are installed.</p>
<p>SNode.C is known to compile and run successfull on</p>
<ul>
<li>x86-64 architecture<ul>
<li>Tested on HP ZBook 15 G8</li>
</ul>
</li>
<li>Arm architecture (32 and 64 bit)<ul>
<li>Tested on Raspberry Pi</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md19"></a>
Tools</h2>
<h3><a class="anchor" id="autotoc_md20"></a>
Required</h3>
<ul>
<li>git (<a href="https://git-scm.com/">https://git-scm.com/</a>)</li>
<li>cmake (<a href="https://cmake.org/">https://cmake.org/</a>)</li>
<li>make (<a href="https://www.gnu.org/software/make/">https://www.gnu.org/software/make/</a>) or</li>
<li>ninja (<a href="https://ninja-build.org/">https://ninja-build.org/</a>)</li>
<li>g++ (<a href="https://gcc.gnu.org/">https://gcc.gnu.org/</a>) or</li>
<li>clang (<a href="https://clang.llvm.org/">https://clang.llvm.org/</a>)</li>
<li>pkg-config (<a href="https://www.freedesktop.org/wiki/Software/pkg-config/">https://www.freedesktop.org/wiki/Software/pkg-config/</a>)</li>
</ul>
<h3><a class="anchor" id="autotoc_md21"></a>
Optional</h3>
<ul>
<li>iwyu (<a href="https://include-what-you-use.org/">https://include-what-you-use.org/</a>)</li>
<li>clang-format (<a href="https://clang.llvm.org/docs/ClangFormat.html">https://clang.llvm.org/docs/ClangFormat.html</a>)</li>
<li>cmake-format (<a href="https://cmake-format.readthedocs.io/">https://cmake-format.readthedocs.io/</a>)</li>
<li>doxygen (<a href="https://www.doxygen.nl/">https://www.doxygen.nl/</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md22"></a>
Libraries</h2>
<h3><a class="anchor" id="autotoc_md23"></a>
Required</h3>
<ul>
<li>Easylogging development files (<a href="https://github.com/amrayn/easyloggingpp/">https://github.com/amrayn/easyloggingpp/</a>)</li>
<li>OpenSSL development files (<a href="https://www.openssl.org/">https://www.openssl.org/</a>)</li>
<li>Nlohmann-JSON development files(<a href="https://json.nlohmann.me/">https://json.nlohmann.me/</a>)</li>
</ul>
<h3><a class="anchor" id="autotoc_md24"></a>
Optional</h3>
<ul>
<li>Bluez development files (<a href="http://www.bluez.org/">http://www.bluez.org/</a>)</li>
<li>LibMagic development files (<a href="https://www.darwinsys.com/file/">https://www.darwinsys.com/file/</a>)</li>
<li>MariaDB client development files (<a href="https://mariadb.org/">https://mariadb.org/</a>)</li>
</ul>
<h3><a class="anchor" id="autotoc_md25"></a>
In-Framework</h3>
<p>This libraries are already integrated directly in SNode.C. Thus they need not be installed by hand</p>
<ul>
<li>CLI11 (<a href="https://github.com/CLIUtils/CLI11/">https://github.com/CLIUtils/CLI11/</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md26"></a>
Installation on Debian Style Systems (x86-64, Arm)</h2>
<h3><a class="anchor" id="autotoc_md27"></a>
Dependencies</h3>
<p>To install all dependencies on Debian style systems just run</p>
<div class="fragment"><div class="line"> sh</div>
<div class="line">sudo apt update</div>
<div class="line">sudo apt install git cmake make ninja-build g++ clang pkg-config</div>
<div class="line">sudo apt install iwyu clang-format cmake-format doxygen</div>
<div class="line">sudo apt install libeasyloggingpp-dev libssl-dev nlohmann-json3-dev</div>
<div class="line">sudo apt install libbluetooth-dev libmagic-dev libmariadb-dev</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md28"></a>
SNode.C</h3>
<p>After installing all dependencies SNode.C can be cloned from github, compiled, and installed.</p>
<p>This is strait forward:</p>
<div class="fragment"><div class="line"> sh</div>
<div class="line">mkdir snode.c</div>
<div class="line">cd snode.c</div>
<div class="line">git clone https://github.com/VolkerChristian/snode.c.git</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake ../snode.c</div>
<div class="line">make</div>
<div class="line">sudo make install</div>
</div><!-- fragment --><p>As SNode.C uses C++ templates a lot the compilation process will take some time. At least on a Raspberry Pi you can go for a coffee - it will take up to one and a half hour (on a Raspberry Pi 3 if just one core is activated for compilation).</p>
<p>It is a good idea to utilize all processor cores and threads for compilation. Thus e.g. on a Raspberry Pi append <code>-j4</code> to the <code>make</code> or <code>ninja</code> command.</p>
<h1><a class="anchor" id="autotoc_md29"></a>
Design Decisions and Features</h1>
<ul>
<li>Easy to use and extend</li>
<li>Clear and clean architecture</li>
<li>Object orientated</li>
<li>Single-threaded</li>
<li>Single-tasking</li>
<li>Event driven</li>
<li>Layer based</li>
<li>Modular</li>
<li>Support for single shot and interval timer</li>
<li>Automated command line argument production and configuration file support for named server and client instances</li>
<li>Sophisticated configuration system controlled either by code, command line, or configuration file</li>
<li>Daemonize server and client if requested</li>
</ul>
<h2><a class="anchor" id="autotoc_md30"></a>
Network Layer</h2>
<p>SNode.C currently supports five different network layer protocols.</p>
<ul>
<li>Internet Protocol version 4 (IPv4)</li>
<li>Internet Protocol version 6 (IPv6)</li>
<li>Unix Domain Sockets</li>
<li>Bluetooth Radio Frequency Communication (RFCOMM)</li>
<li>Bluetooth Logical Link Control and Adaptation Protocol (L2CAP)</li>
</ul>
<h2><a class="anchor" id="autotoc_md31"></a>
Transport Layer</h2>
<p>Currently only connection-oriented protocols (SOCK_STREAM) for all supported network layer protocols are implemented (for IPv4 and IPv6 this means TCP).</p>
<ul>
<li>Every transport layer protocol provides a common base API which makes it very easy to create servers and clients for all different network layers supported.</li>
<li>New application protocols can be connected to the transport layer very easily by just implementing a SocketFactory and a SocketContext class.</li>
<li>Transparently offers SSL/TLS encryption provided by OpenSSL for each supportet transport layer protocol and thus, also for all application level protocols.<ul>
<li>Support of X.509 certificates.</li>
<li>Server Name Indication (SNI) is supported (useful for e.g. virtual (web) servers).</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md32"></a>
Application Layer</h2>
<p>In-framework server and client support currently exist for the application level protocols</p>
<ul>
<li>HTTP/1.1</li>
<li>WebSocket version 13</li>
<li>MQTT version 3.1.1 (version 5.0 is in preparation)</li>
<li>MQTT via WebSockets</li>
<li>High-Level Web API layer with JSON support very similar to the API of node.js/express.</li>
</ul>
<p>As said above in the transport layer section, SSL/TLS encryption is provided for all of these application layer protocols.</p>
<h1><a class="anchor" id="autotoc_md33"></a>
Example Applications</h1>
<h2><a class="anchor" id="autotoc_md34"></a>
HTTP/S Web-Server for Static HTML-Pages</h2>
<p>This application uses the high-level web API <em>express</em> which is very similar to the API of node.js/express. The <code>StaticMiddleware</code> is used to deliver the static HTML-pages.</p>
<p>The use of X.509 certificates for encrypted communication is demonstrated also.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="legacy_2in_2_web_app_8h.html">express/legacy/in/WebApp.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="tls_2in_2_web_app_8h.html">express/tls/in/WebApp.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_static_middleware_8h.html">express/middleware/StaticMiddleware.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_logger_8h.html">log/Logger.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_config_8h.html">utils/Config.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div>
<div class="line">    <a class="code hl_function" href="classutils_1_1_config.html#a48e7f8ae23aafd44e164f62afa6675ed">utils::Config::add_string_option</a>(<span class="stringliteral">&quot;--web-root&quot;</span>, <span class="stringliteral">&quot;Root directory of the web site&quot;</span>, <span class="stringliteral">&quot;[path]&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="classexpress_1_1_web_app.html#a0a01439a0cc8dfc86ed14f1094826b7e">express::WebApp::init</a>(argc, argv);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">using </span>LegacyWebApp = <a class="code hl_typedef" href="namespaceexpress_1_1legacy_1_1in.html#a100edb4786f87c3e88f0518b4feb59e7">express::legacy::in::WebApp</a>;</div>
<div class="line">    <span class="keyword">using </span>LegacySocketAddress = LegacyWebApp::SocketAddress;</div>
<div class="line"> </div>
<div class="line">    LegacyWebApp legacyApp;</div>
<div class="line">    legacyApp.getConfig().setReuseAddress();</div>
<div class="line"> </div>
<div class="line">    legacyApp.use(<a class="code hl_class" href="classexpress_1_1middleware_1_1_static_middleware.html">express::middleware::StaticMiddleware</a>(<a class="code hl_function" href="classutils_1_1_config.html#a047a9b9e0f92a75e6bc4bcb9f188e28e">utils::Config::get_string_option_value</a>(<span class="stringliteral">&quot;--web-root&quot;</span>)));</div>
<div class="line"> </div>
<div class="line">    legacyApp.listen(8080, [](<span class="keyword">const</span> LegacySocketAddress&amp; socketAddress, <span class="keywordtype">int</span> errnum) {</div>
<div class="line">        <span class="keywordflow">if</span> (errnum &lt; 0) {</div>
<div class="line">            PLOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;OnError&quot;</span>;</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (errnum &gt; 0) {</div>
<div class="line">            PLOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;OnError: &quot;</span> &lt;&lt; socketAddress.toString();</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            VLOG(0) &lt;&lt; <span class="stringliteral">&quot;snode.c listening on &quot;</span> &lt;&lt; socketAddress.toString();</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">using </span>TLSWebApp = <a class="code hl_typedef" href="namespaceexpress_1_1tls_1_1in.html#a5a109350536b5f2da903c6cab26c7283">express::tls::in::WebApp</a>;</div>
<div class="line">    <span class="keyword">using </span>TLSSocketAddress = TLSWebApp::SocketAddress;</div>
<div class="line"> </div>
<div class="line">    TLSWebApp tlsApp;</div>
<div class="line">    tlsApp.getConfig().setReuseAddress();</div>
<div class="line"> </div>
<div class="line">    tlsApp.getConfig().setCertChain(<span class="stringliteral">&quot;&lt;path to X.509 certificate chain&gt;&quot;</span>);</div>
<div class="line">    tlsApp.getConfig().setCertKey(<span class="stringliteral">&quot;&lt;path to X.509 certificate key&gt;&quot;</span>);</div>
<div class="line">    tlsApp.getConfig().setCertKeyPassword(<span class="stringliteral">&quot;&lt;certificate key password&gt;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    tlsApp.use(<a class="code hl_class" href="classexpress_1_1middleware_1_1_static_middleware.html">express::middleware::StaticMiddleware</a>(<a class="code hl_function" href="classutils_1_1_config.html#a047a9b9e0f92a75e6bc4bcb9f188e28e">utils::Config::get_string_option_value</a>(<span class="stringliteral">&quot;--web-root&quot;</span>)));</div>
<div class="line"> </div>
<div class="line">    tlsApp.listen(8088, [](<span class="keyword">const</span> TLSSocketAddress&amp; socketAddress, <span class="keywordtype">int</span> errnum) {</div>
<div class="line">        <span class="keywordflow">if</span> (errnum &lt; 0) {</div>
<div class="line">            PLOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;OnError&quot;</span>;</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (errnum &gt; 0) {</div>
<div class="line">            PLOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;OnError: &quot;</span> &lt;&lt; socketAddress.toString();</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            VLOG(0) &lt;&lt; <span class="stringliteral">&quot;snode.c listening on &quot;</span> &lt;&lt; socketAddress.toString();</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="classexpress_1_1_web_app.html#a54e6910c9466c61d0b217490b7d9bb5a">express::WebApp::start</a>();</div>
<div class="line">}</div>
<div class="ttc" id="a_config_8h_html"><div class="ttname"><a href="_config_8h.html">Config.h</a></div></div>
<div class="ttc" id="a_logger_8h_html"><div class="ttname"><a href="_logger_8h.html">Logger.h</a></div></div>
<div class="ttc" id="a_static_middleware_8h_html"><div class="ttname"><a href="_static_middleware_8h.html">StaticMiddleware.h</a></div></div>
<div class="ttc" id="aclassexpress_1_1_web_app_html_a0a01439a0cc8dfc86ed14f1094826b7e"><div class="ttname"><a href="classexpress_1_1_web_app.html#a0a01439a0cc8dfc86ed14f1094826b7e">express::WebApp::init</a></div><div class="ttdeci">static void init(int argc, char *argv[])</div><div class="ttdef"><b>Definition</b> <a href="_web_app_8cpp_source.html#l00033">WebApp.cpp:33</a></div></div>
<div class="ttc" id="aclassexpress_1_1_web_app_html_a54e6910c9466c61d0b217490b7d9bb5a"><div class="ttname"><a href="classexpress_1_1_web_app.html#a54e6910c9466c61d0b217490b7d9bb5a">express::WebApp::start</a></div><div class="ttdeci">static int start(const utils::Timeval &amp;timeOut={LONG_MAX, 0})</div><div class="ttdef"><b>Definition</b> <a href="_web_app_8cpp_source.html#l00037">WebApp.cpp:37</a></div></div>
<div class="ttc" id="aclassexpress_1_1middleware_1_1_static_middleware_html"><div class="ttname"><a href="classexpress_1_1middleware_1_1_static_middleware.html">express::middleware::StaticMiddleware</a></div><div class="ttdef"><b>Definition</b> <a href="_static_middleware_8h_source.html#l00035">StaticMiddleware.h:35</a></div></div>
<div class="ttc" id="aclassutils_1_1_config_html_a047a9b9e0f92a75e6bc4bcb9f188e28e"><div class="ttname"><a href="classutils_1_1_config.html#a047a9b9e0f92a75e6bc4bcb9f188e28e">utils::Config::get_string_option_value</a></div><div class="ttdeci">static std::string get_string_option_value(const std::string &amp;name)</div><div class="ttdef"><b>Definition</b> <a href="_config_8cpp_source.html#l00942">Config.cpp:942</a></div></div>
<div class="ttc" id="aclassutils_1_1_config_html_a48e7f8ae23aafd44e164f62afa6675ed"><div class="ttname"><a href="classutils_1_1_config.html#a48e7f8ae23aafd44e164f62afa6675ed">utils::Config::add_string_option</a></div><div class="ttdeci">static void add_string_option(const std::string &amp;name, const std::string &amp;description, const std::string &amp;typeName)</div><div class="ttdef"><b>Definition</b> <a href="_config_8cpp_source.html#l00892">Config.cpp:892</a></div></div>
<div class="ttc" id="alegacy_2in_2_web_app_8h_html"><div class="ttname"><a href="legacy_2in_2_web_app_8h.html">WebApp.h</a></div></div>
<div class="ttc" id="anamespaceexpress_1_1legacy_1_1in_html_a100edb4786f87c3e88f0518b4feb59e7"><div class="ttname"><a href="namespaceexpress_1_1legacy_1_1in.html#a100edb4786f87c3e88f0518b4feb59e7">express::legacy::in::WebApp</a></div><div class="ttdeci">WebAppT&lt; web::http::legacy::in::Server&lt; express::Request, express::Response &gt; &gt; WebApp</div><div class="ttdef"><b>Definition</b> <a href="legacy_2in_2_web_app_8h_source.html#l00031">WebApp.h:31</a></div></div>
<div class="ttc" id="anamespaceexpress_1_1tls_1_1in_html_a5a109350536b5f2da903c6cab26c7283"><div class="ttname"><a href="namespaceexpress_1_1tls_1_1in.html#a5a109350536b5f2da903c6cab26c7283">express::tls::in::WebApp</a></div><div class="ttdeci">WebAppT&lt; web::http::tls::in::Server&lt; express::Request, express::Response &gt; &gt; WebApp</div><div class="ttdef"><b>Definition</b> <a href="tls_2in_2_web_app_8h_source.html#l00031">WebApp.h:31</a></div></div>
<div class="ttc" id="atls_2in_2_web_app_8h_html"><div class="ttname"><a href="tls_2in_2_web_app_8h.html">WebApp.h</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md35"></a>
Receive Data via HTTP-Post Request</h2>
<p>The high-level web API provides the methods <code>get()</code>, <code>post()</code>, <code>put()</code>, etc like node.js/express.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="legacy_2in_2_web_app_8h.html">express/legacy/in/WebApp.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="tls_2in_2_web_app_8h.html">express/tls/in/WebApp.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_logger_8h.html">log/Logger.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div>
<div class="line">    <a class="code hl_function" href="classexpress_1_1_web_app.html#a0a01439a0cc8dfc86ed14f1094826b7e">express::WebApp::init</a>(argc, argv);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">using </span>LegacyWebApp = <a class="code hl_typedef" href="namespaceexpress_1_1legacy_1_1in.html#a100edb4786f87c3e88f0518b4feb59e7">express::legacy::in::WebApp</a>;</div>
<div class="line">    <span class="keyword">using </span>LegacySocketAddress = LegacyWebApp::SocketAddress;</div>
<div class="line"> </div>
<div class="line">    LegacyWebApp legacyApp;</div>
<div class="line">    legacyApp.getConfig().setReuseAddress();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// The macro </span></div>
<div class="line">    <span class="comment">//    APPLICATION(req, res)</span></div>
<div class="line">    <span class="comment">// expands to </span></div>
<div class="line">    <span class="comment">//    ([[maybe_unused]] express::Request&amp; (req), [[maybe_unused]] express::Response&amp; (res)</span></div>
<div class="line">    legacyApp.get(<span class="stringliteral">&quot;/&quot;</span>, [] <a class="code hl_define" href="_router_8h.html#a8b7131df91fe7a961e2cdadcedb55232">APPLICATION</a>(req, res) {</div>
<div class="line">        res.send(<span class="stringliteral">&quot;&lt;html&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;    &lt;head&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;        &lt;style&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;            main {&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;                min-height: 30em;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;                padding: 3em;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;                background-image: repeating-radial-gradient( circle at 0 0, #fff, #ddd 50px);&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;            }&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;            input[type=\&quot;file\&quot;] {&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;                display: block;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;                margin: 2em;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;                padding: 2em;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;                border: 1px dotted;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;            }&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;        &lt;/style&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;    &lt;/head&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;    &lt;body&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;        &lt;h1&gt;File-Upload with input type=\&quot;file\&quot;&lt;/h1&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;        &lt;main&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;            &lt;h2&gt;Send us something fancy!&lt;/h2&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;            &lt;form method=\&quot;post\&quot; enctype=\&quot;multipart/form-data\&quot;&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;                &lt;label&gt; Select a text file (*.txt, *.html etc.) from your computer.&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;                    &lt;input name=\&quot;datei\&quot; type=\&quot;file\&quot; size=\&quot;50\&quot; accept=\&quot;text/*\&quot;&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;                &lt;/label&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;                &lt;button&gt;‚Ä¶ and off we go!&lt;/button&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;            &lt;/form&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;        &lt;/main&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;    &lt;/body&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;&lt;/html&gt;&quot;</span>);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    legacyApp.post(<span class="stringliteral">&quot;/&quot;</span>, [] <a class="code hl_define" href="_router_8h.html#a8b7131df91fe7a961e2cdadcedb55232">APPLICATION</a>(req, res) {</div>
<div class="line">        req.body.push_back(0);</div>
<div class="line"> </div>
<div class="line">        res.send(<span class="stringliteral">&quot;&lt;html&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;    &lt;body&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;        &lt;h1&gt;Thank you, we received your file!&lt;/h1&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;        &lt;h2&gt;Content:&lt;/h2&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;&lt;pre&gt;&quot;</span> +</div>
<div class="line">                 std::string(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(req.body.data())) +</div>
<div class="line">                 <span class="stringliteral">&quot;&lt;/pre&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;    &lt;/body&gt;&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;&lt;/html&gt;&quot;</span>);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    legacyApp.listen(8080, [](<span class="keyword">const</span> LegacySocketAddress&amp; socketAddress, <span class="keywordtype">int</span> errnum) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (errnum != 0) {</div>
<div class="line">            PLOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;OnError: &quot;</span> &lt;&lt; socketAddress.toString();</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            VLOG(0) &lt;&lt; <span class="stringliteral">&quot;LegacyWebApp listening on &quot;</span> &lt;&lt; socketAddress.toString();</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">using </span>TLSWebApp = <a class="code hl_typedef" href="namespaceexpress_1_1tls_1_1in.html#a5a109350536b5f2da903c6cab26c7283">express::tls::in::WebApp</a>;</div>
<div class="line">    <span class="keyword">using </span>TLSSocketAddress = TLSWebApp::SocketAddress;</div>
<div class="line"> </div>
<div class="line">    TLSWebApp tlsApp;</div>
<div class="line">    </div>
<div class="line">    tlsApp.getConfig().setReuseAddress();</div>
<div class="line"> </div>
<div class="line">    tlsApp.getConfig().setCertChain(<span class="stringliteral">&quot;&lt;path to X.509 certificate chain&gt;&quot;</span>);</div>
<div class="line">    tlsApp.getConfig().setCertKey(<span class="stringliteral">&quot;&lt;path to X.509 certificate key&gt;&quot;</span>);</div>
<div class="line">    tlsApp.getConfig().setCertKeyPassword(<span class="stringliteral">&quot;&lt;certificate key password&gt;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    tlsApp.use(legacyApp);</div>
<div class="line"> </div>
<div class="line">    tlsApp.listen(8088, [](<span class="keyword">const</span> TLSSocketAddress&amp; socketAddress, <span class="keywordtype">int</span> errnum) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (errnum != 0) {</div>
<div class="line">            PLOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;OnError: &quot;</span> &lt;&lt; socketAddress.toString();</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            VLOG(0) &lt;&lt; <span class="stringliteral">&quot;TLSWebApp listening on &quot;</span> &lt;&lt; socketAddress.toString();</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="classexpress_1_1_web_app.html#a54e6910c9466c61d0b217490b7d9bb5a">express::WebApp::start</a>();</div>
<div class="line">}</div>
<div class="ttc" id="a_router_8h_html_a8b7131df91fe7a961e2cdadcedb55232"><div class="ttname"><a href="_router_8h.html#a8b7131df91fe7a961e2cdadcedb55232">APPLICATION</a></div><div class="ttdeci">#define APPLICATION(req, res)</div><div class="ttdef"><b>Definition</b> <a href="_router_8h_source.html#l00042">Router.h:42</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md36"></a>
Extract Server and Client Information (host name, IP, port, SSL/TLS information)</h2>
<div class="fragment"><div class="line">To be documented soon</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md37"></a>
Using Regular Expressions in Routes</h2>
<div class="fragment"><div class="line">To be documented soon</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Oct 2 2023 20:14:08 for snode.c by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
